

- CloudKit JS
-  CloudKit.Container 

Class

# CloudKit.Container

A CloudKit.Container object provides access to an app container, and through the app container, access to its databases. It also contains methods for authenticating and fetching users.

CloudKit JS 1.0+

``` source
interface CloudKit.Container
```

## Overview

You do not create container objects yourself, nor should you subclass the CloudKit.Container class. You configure a container using the `CloudKit`.configure method and obtain a container using one of the CloudKit namespace container methods.

The asynchronous methods in this class return a `Promise` object that resolves when the operation completes. For a description of the `Promise` class returned by these methods, go to Mozilla Developer Network: Promise.

This class is similar to the CKContainer class in the CloudKit framework.

## Topics

### Getting the Public and Private Databases

publicCloudDatabase

The database containing the data shared by all users.

privateCloudDatabase

The database containing the user’s private data.

sharedCloudDatabase

The database containing shared records accepted by the current user.

getDatabaseWithDatabaseScope

Returns the specified (public, private, or shared) database.

### Getting the Identifier and Environment

containerIdentifier

The string that identifies the app’s container.

environment

The container environment, either development or production.

apnsEnvironment

The Apple Push Notification service (APNs) environment associated with this container.

### Authenticating Users

setUpAuth

Determines whether a user is signed in and presents an appropriate sign in or sign out button.

whenUserSignsIn

Returns an object representing a deferred or asynchronous operation that resolves when the user signs in.

whenUserSignsOut

Returns an object representing a deferred or asynchronous operation that resolves when the user signs out.

### Discovering Users

fetchCurrentUserIdentity

Fetches information about the current user asynchronously.

discoverAllUserIdentities

Fetches all user identities in the current user’s address book.

discoverUserIdentities

Fetches all users in the specified array.

discoverUserIdentityWithEmailAddress

Fetches information about a single user based on the user’s email address.

discoverUserIdentityWithPhoneNumber

Fetches information about a single user based on the user’s phone number.

discoverUserIdentityWithUserRecordName

Fetches information about a single user using the record name.

### Accepting Shared Records

acceptShares

Accepts a share—that is represented by a `shortGUID`—on behalf of the current user.

fetchRecordInfos

Returns information about a record for which you have a `shortGUID` property.

### Receiving Notifications

addNotificationListener

Adds a function to call when a push notification occurs.

removeNotificationListener

Removes a function to call when a push notification occurs.

registerForNotifications

Registers to receive push notifications.

unregisterForNotifications

Unregisters to receive push notifications.

isRegisteredForNotifications

Boolean value indicating whether this container is registered to receive push notifications.

### Logging

toString

Returns a string representation of this CloudKit.Container object.

## See Also

### Classes

CloudKit

Use the `CloudKit` namespace to configure CloudKit JS, and to access app containers and global constants.

CloudKit.CKError

A CloudKit.CKError object encapsulates an error that may occur when you use CloudKit JS. This includes CloudKit server errors and local errors.

CloudKit.Database

A CloudKit.Database object represents a public or private database in an app container.

CloudKit.DatabaseChangesResponse

A CloudKit.DatabaseChangesResponse object encapsulates the results of fetching changed record zones in a database.

CloudKit.Notification

A CloudKit.Notification object represents a push notification that was sent to your app. Notifications are triggered by subscriptions that you save to the database. To subscribe to record changes and handle push notifications, see the `saveSubscription` method in CloudKit.Database.

CloudKit.QueryNotification

A CloudKit.QueryNotification object represents a push notification that was generated by a subscription object. A query notification is triggered by subscriptions where the `subscriptionType` key is `query`. Use a CloudKit.QueryNotification object to get information about the record that changed. To create query subscriptions and handle push notifications, see the saveSubscriptions method in CloudKit.Database.

CloudKit.QueryResponse

A CloudKit.QueryResponse object encapsulates the results of using a query to fetch records

CloudKit.RecordInfosResponse

A CloudKit.RecordInfosResponse object encapsulates the results of fetching information about records in general and shared records in particular.

CloudKit.RecordsBatchBuilder

A CloudKit.RecordsBatchBuilder object encapsulates the results of changes to multiple records in a single database operation.

CloudKit.RecordsResponse

A CloudKit.RecordsResponse object encapsulates the results of fetching records.

CloudKit.RecordZoneChangesResponse

The CloudKit.RecordZoneChangesResponse object encapsulates the results of fetching changes to one or more record zones.

CloudKit.RecordZoneNotification

A CloudKit.RecordZoneNotification object represents a push notification that was caused by changes to the contents of a record zone. A zone notification is triggered by subscriptions where the `subscriptionType` key is `zone`. Use a CloudKit.RecordZoneNotification object to get information about the record that changed. To create zone subscriptions and handle push notifications, see the saveSubscriptions method in CloudKit.Database.

CloudKit.RecordZonesResponse

A CloudKit.RecordZonesResponse object encapsulates the results of database operations on a record zone.

CloudKit.Response

The CloudKit.Response class is an abstract superclass for subclasses that encapsulate the response from server requests. Don’t create instances of this class. Instances of subclasses are returned by methods in the CloudKit.Container and CloudKit.Database classes. Most of these methods return a `Promise` object that resolves to a subclass of CloudKit.Response if the operation is successful.

CloudKit.ShareRecordType

Display information about the record type of a shared record.


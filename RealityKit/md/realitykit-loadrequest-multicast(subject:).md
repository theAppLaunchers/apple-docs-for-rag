

- RealityKit
- LoadRequest
-  multicast(subject:) 

Instance Method

# multicast(subject:)

Provides a subject to deliver elements to multiple subscribers.

RealityKitCombineiOS 13.0+iPadOS 13.0+Mac CatalystmacOS 10.15+tvOS 13.0+visionOSwatchOS 6.0+

``` source
func multicast(subject: S) -> Publishers.Multicast where S : Subject, Self.Failure == S.Failure, Self.Output == S.Output
```

## Parameters 

`subject`  

A subject to deliver elements to downstream subscribers.

## Discussion

Use a multicast publisher when you have multiple downstream subscribers, but you want upstream publishers to only process one `Subscriber/receive(_:)` call per event. This is useful when upstream publishers are doing expensive work you donâ€™t want to duplicate, like performing network requests.

In contrast with `Publisher/multicast(_:)`, this method produces a publisher that shares the provided `Subject` among all the downstream subscribers.

The following example uses a sequence publisher as a counter to publish three random numbers, generated by a `Publisher/map(_:)-99evh` operator. It uses a `Publisher/multicast(subject:)` operator with a `PassthroughSubject` to share the same random number to each of two subscribers. Because the multicast publisher is a `ConnectablePublisher`, publishing only begins after a call to `ConnectablePublisher/connect()`.

```
let pub = ["First", "Second", "Third"].publisher
    .map( { return ($0, Int.random(in: 0...100)) } )
    .print("Random")
    .multicast(subject: PassthroughSubject())

cancellable1 = pub
    .sink { print ("Stream 1 received: \($0)")}
cancellable2 = pub
    .sink { print ("Stream 2 received: \($0)")}
pub.connect()

// Prints:
// Random: receive value: (("First", 78))
// Stream 2 received: ("First", 78)
// Stream 1 received: ("First", 78)
// Random: receive value: (("Second", 98))
// Stream 2 received: ("Second", 98)
// Stream 1 received: ("Second", 98)
// Random: receive value: (("Third", 61))
// Stream 2 received: ("Third", 61)
// Stream 1 received: ("Third", 61)
```

In this example, the output shows that the `Publisher/print(_:to:)` operator receives each random value only one time, and then sends the value to both subscribers.

## See Also

### Working with multiple subscribers

func multicast&lt;S>(() -> S) -> Publishers.Multicast&lt;Self, S>

Applies a closure to create a subject that delivers elements to subscribers.




- Vision
-  VNRequest 

Class

# VNRequest

The abstract superclass for analysis requests.

iOS 11.0+iPadOS 11.0+Mac Catalyst 13.1+macOS 10.13+tvOS 11.0+visionOS 1.0+

``` source
class VNRequest
```

## Overview

Other Vision request handlers that perform image analysis inherit from this abstract base class. Instantiate one of its subclasses to perform image analysis.

Important

A VNRequest discards the alpha channel of input images, so don’t rely on it.

## Topics

### Initializing a Request

convenience init()

Creates a new Vision request with no completion handler.

init(completionHandler: VNRequestCompletionHandler?)

Creates a new Vision request with an optional completion handler.

### Configuring a Request

typealias VNRequestCompletionHandler

A type alias to encapsulate the syntax for the completion handler the system calls after the request finishes processing.

var completionHandler: VNRequestCompletionHandler?

The completion handler the system invokes after the request finishes processing.

var preferBackgroundProcessing: Bool

A hint to minimize the resource burden of the request.

var results: [VNObservation]?

The collection of VNObservation results generated by request processing.

var revision: Int

The specific algorithm or implementation revision that’s used to perform the request.

var usesCPUOnly: Bool

A Boolean signifying that the Vision request should execute exclusively on the CPU.

Deprecated

### Configuring the Compute Device

func setComputeDevice(MLComputeDevice?, for: VNComputeStage)

Assigns a compute device for a compute stage.

func computeDevice(for: VNComputeStage) -> MLComputeDevice?

Returns the compute device for a compute stage.

var supportedComputeStageDevices: [VNComputeStage : [MLComputeDevice]]

The collection of compute devices per stage that a request supports.

### Canceling a Request

func cancel()

Cancels the request before it can finish executing.

### Executing a Completion Handler

typealias VNRequestCompletionHandler

A type alias to encapsulate the syntax for the completion handler the system calls after the request finishes processing.

### Determining the Revision

protocol VNRequestRevisionProviding

A protocol for specifying the revision number of Vision algorithms.

class var currentRevision: Int

The current revison supported by the request.

class var defaultRevision: Int

The revision of the latest request for the particular SDK linked with the client application.

class var supportedRevisions: IndexSet

The collection of currently-supported algorithm versions for the class of request.

## Relationships

### Inherits From

- NSObject

### Inherited By

- VNImageBasedRequest

### Conforms To

- CVarArg
- CustomDebugStringConvertible
- CustomStringConvertible
- Equatable
- Hashable
- NSCopying
- NSObjectProtocol

## See Also

### Still-image analysis

Detecting Objects in Still Images

Locate and demarcate rectangles, faces, barcodes, and text in images using the Vision framework.

Classifying images for categorization and search

Analyze and label images using a Vision classification request.

Analyzing Image Similarity with Feature Print

Generate a feature print to compute distance between images.

class VNImageBasedRequest

The abstract superclass for image-analysis requests that focus on a specific part of an image.

class VNClassifyImageRequest

A request to classify an image.

class VNGenerateImageFeaturePrintRequest

An image-based request to generate feature prints from an image.

class VNFeaturePrintObservation

An observation that provides the recognized feature print.

class VNImageRequestHandler

An object that processes one or more image-analysis request pertaining to a single image.

class VNObservation

The abstract superclass for analysis results.




- AppKit
- NSEvent
-  keyEvent(with:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:) 

Type Method

# keyEvent(with:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:)

Creates and returns a new event object that describes a key event.

macOS

``` source
class func keyEvent(
    with type: NSEvent.EventType,
    location: NSPoint,
    modifierFlags flags: NSEvent.ModifierFlags,
    timestamp time: TimeInterval,
    windowNumber wNum: Int,
    context unusedPassNil: NSGraphicsContext?,
    characters keys: String,
    charactersIgnoringModifiers ukeys: String,
    isARepeat flag: Bool,
    keyCode code: UInt16
) -> NSEvent?
```

## Parameters 

`type`  

One of the following event-type constants: `NSKeyDown`, `NSKeyUp`, `NSFlagsChanged`. If anything else is specified, an `NSInternalInconsistencyException` is raised.

`location`  

The cursor location in the base coordinate system of the window specified by `windowNum`.

`flags`  

An integer bit field containing any of the modifier key masks described in `Getting Unicode Values`, combined using the C bitwise OR operator.

`time`  

The time the event occurred in seconds since system startup.

`wNum`  

An integer that identifies the window device associated with the event, which is associated with the `NSWindow` that will receive the event.

`unusedPassNil`  

The display graphics context of the event. Pass `nil` for this parameter.

`keys`  

A string of characters associated with the key event. Though most key events contain only one character, it is possible for a single keypress to generate a series of characters.

`ukeys`  

The string of characters generated by the key event as if no modifier key had been pressed (except for Shift). This argument is useful for getting the “basic” key value in a hardware-independent manner.

`flag`  

true if the key event is a repeat caused by the user holding the key down, false if the key event is new.

`code`  

A number that identifies the keyboard key associated with the key event. Its value is hardware-independent.

## Return Value

The created `NSEvent` instance or `nil` if the instance could not be created.

## See Also

### Related Documentation

var keyCode: UInt16

The virtual code for the key associated with the event.

var characters: String?

The characters associated with a key-up or key-down event.

var systemUptime: TimeInterval

The amount of time the system has been awake since the last time it was restarted.

var isARepeat: Bool

A Boolean value that indicates whether the key event is a repeat.

var charactersIgnoringModifiers: String?

The characters generated by a key event as if no modifier key (except for Shift) applies.

Cocoa Event Handling Guide

### Creating an event object

class func mouseEvent(with: NSEvent.EventType, location: NSPoint, modifierFlags: NSEvent.ModifierFlags, timestamp: TimeInterval, windowNumber: Int, context: NSGraphicsContext?, eventNumber: Int, clickCount: Int, pressure: Float) -> NSEvent?

Creates and returns a new event object that describes a mouse-down, -up, -moved, or -dragged event.

class func enterExitEvent(with: NSEvent.EventType, location: NSPoint, modifierFlags: NSEvent.ModifierFlags, timestamp: TimeInterval, windowNumber: Int, context: NSGraphicsContext?, eventNumber: Int, trackingNumber: Int, userData: UnsafeMutableRawPointer?) -> NSEvent?

Creates and returns a new event object that describes a tracking-rectangle or cursor-update event.

class func otherEvent(with: NSEvent.EventType, location: NSPoint, modifierFlags: NSEvent.ModifierFlags, timestamp: TimeInterval, windowNumber: Int, context: NSGraphicsContext?, subtype: Int16, data1: Int, data2: Int) -> NSEvent?

Creates and returns a new event object that describes a custom event.

init?(eventRef: UnsafeRawPointer)

Creates and returns a new event object for a Carbon event.

init?(cgEvent: CGEvent)

Creates and returns an event object for a Core Graphics event.

